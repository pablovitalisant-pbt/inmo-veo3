
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>InmoVeo3 - Real Estate Video Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              'brand-primary': '#4f46e5',
              'brand-secondary': '#7c3aed',
              'gray-800': '#1f2937',
              'gray-900': '#111827',
            }
          }
        }
      }
    </script>
  <script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.27.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
  <body class="bg-gray-900 text-gray-100 antialiased">
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
<script> (function(){   const API_BASE = "https://inmo-veo3-y25yqmaa3a-uc.a.run.app";   const BTN_ID   = "inmo-link-btn";   const sleep = (ms)=>new Promise(r=>setTimeout(r,ms));   function ensureBtn(){     let a=document.getElementById(BTN_ID);     if(!a){       a=document.createElement("a");       a.id=BTN_ID;       a.target="_blank";       a.textContent="Ver video";       Object.assign(a.style,{position:"fixed",right:"20px",bottom:"20px",background:"#4f46e5",color:"#fff",padding:"10px 14px",borderRadius:"10px",fontFamily:"system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial",textDecoration:"none",boxShadow:"0 6px 18px rgba(0,0,0,.35)",zIndex:999999,display:"none"});       document.body.appendChild(a);     }     return a;   }   async function poll(slug){     const btn=ensureBtn();     for(let i=0;i<90;i++){       try{         const r=await fetch(`${API_BASE}/artifacts/${slug}`);         if(!r.ok) throw 0;         const j=await r.json();         const out=(j&&j.manifest&&j.manifest.outputs)||{};         const b=(j&&j.manifest&&j.manifest.bucket)||"";         if(out.video==="result.mp4" && b){           const url=`https://storage.cloud.google.com/${b}/${slug}/result.mp4`;           btn.href=url;           btn.style.display="inline-block";           btn.textContent="Ver video";           return;         }       }catch(e){}       await sleep(2000);     }   }   const _fetch = window.fetch.bind(window);   window.fetch = async function(input, init){     const res = await _fetch(input, init);     try{       const url = (typeof input === "string" ? input : (input&&input.url)||"");       if(url.includes("/run") && (init&&init.method||"GET").toUpperCase()==="POST"){         const clone = res.clone();         clone.json().then(j=>{           const slug = j && j.slug;           if(slug) poll(slug);         }).catch(()=>{});       }     }catch(e){}     return res;   }; })(); </script>
</body>
</html>
